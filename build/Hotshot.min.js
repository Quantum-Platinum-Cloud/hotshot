"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Hotshot=function(){function e(t){var i=t.waitForInputTime,n=t.bindings;_classCallCheck(this,e),this._bindings=n,this._pressedKeys="",this._waitForInputTime=i,document.addEventListener("keyup",this._handleKey.bind(this),!1)}return _createClass(e,[{key:"_resetWaitInputTimer",value:function(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?this._waitForInputTime:arguments[1];clearTimeout(this._waitInputTimer),this._waitInputTimer=setTimeout(function(){t._pressedKeys="","function"==typeof e&&e()},i)}},{key:"_checkBindingsForPressedKeys",value:function(){var e=this._bindings,t=this._pressedKeys,i=null,n=!1;return e.forEach(function(e){var s=e.keyCodes,a=e.callback,r=s.join("");t===r?i={keyCodes:s,callback:a}:0===r.indexOf(t)&&(n=!0)}),{match:i,shouldWait:n}}},{key:"_handleKey",value:function(e){var t=e.keyCode;this._pressedKeys+=t;var i=this._checkBindingsForPressedKeys(),n=i.match,s=i.shouldWait;n?s?this._resetWaitInputTimer(n.callback):this._resetWaitInputTimer(n.callback,0):this._resetWaitInputTimer()}}]),e}();window.Hotshot=Hotshot;